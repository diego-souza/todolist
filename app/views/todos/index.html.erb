<h1>Listing todos</h1>

<table class="table">
  <tr>
    <th>Content</th>
    <th>Priority</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @todos.each do |todo| %>
  <tr>
    <td><%= best_in_place todo, :content, type: :input, data: { todo_content:  todo.content } %></td>
    <td><%= best_in_place todo, :priority, type: :select, collection: priority_name_options_for_best_in_place %></td>
    <td>
      <%= form_for(todo) do |f| %>
        <%= f.hidden_field :priority, value: Todo::DONE %>
        <%= f.submit "Mark as Done", class: "btn btn-success" %>
      <% end %>
    </td>
    <td><%= link_to 'Edit', edit_todo_path(todo), class: "btn btn-primary" %></td>
    <td><%= link_to 'Remove', todo, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Todo', new_todo_path, class: "btn btn-primary" %>
